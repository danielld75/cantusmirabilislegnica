<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Cantus Mirabilis – Kalendarium</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --gold: #c9a24d;
            --dark: #0b0b0b;
            --panel: #171717;
            --text: #eaeaea;
        }

        body {
            margin: 0;
            background: radial-gradient(circle at top, #222, #000);
            color: var(--text);
            font-family: 'Inter', sans-serif;
        }

        section {
            margin-bottom: 3rem;
        }

        /* ===== FADE-IN ===== */
        .fade {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 1.2s ease, transform 1.2s ease;
        }

        .fade.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== HEADER ===== */
        header {
            text-align: center;
            padding: 4rem 1rem 3rem;
        }

        header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.2rem;
            letter-spacing: 3px;
            color: var(--gold);
        }

        header p {
            opacity: 0.8;
            font-size: 1.2rem;
        }

        /* ===== MAIN ===== */
        main {
            max-width: 1100px;
            margin: auto;
            padding: 2rem 1rem 4rem;
        }

        /* ===== CALENDAR ===== */
        .calendar {
            background: var(--panel);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 0 60px rgba(201,162,77,.15);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .calendar-header h2 {
            font-family: 'Playfair Display', serif;
            color: var(--gold);
        }

        .calendar-header button {
            background: none;
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: .4rem .9rem;
            border-radius: 10px;
            cursor: pointer;
        }

        .weekdays, .days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
        }

        .weekdays div {
            opacity: .5;
            padding: .6rem 0;
        }

        .days div {
            padding: .9rem 0;
            cursor: pointer;
            border-radius: 10px;
            transition: .2s;
        }

        .days div:hover {
            background: rgba(201,162,77,.18);
        }

        .day.has-event {
            border: 1px solid var(--gold);
        }

        /* ===== EVENTS ===== */
        .events {
            background: var(--panel);
            border-radius: 20px;
            padding: 1.5rem;
        }

        .events h3 {
            font-family: 'Playfair Display', serif;
            color: var(--gold);
        }

        .event {
            margin-top: 1rem;
            padding-left: 1rem;
            border-left: 4px solid var(--gold);
        }

        .event.liturgia { border-color: #6b8e23; }
        .event.koncert { border-color: #8b0000; }

        /* ===== REPERTUAR ===== */
        .repertoire {
            background: var(--panel);
            border-radius: 20px;
            padding: 2rem;
        }

        .repertoire h2 {
            font-family: 'Playfair Display', serif;
            color: var(--gold);
        }

        .repertoire ul {
            list-style: none;
            padding: 0;
        }

        .repertoire li {
            padding: .8rem 0;
            border-bottom: 1px solid rgba(255,255,255,.1);
        }

        .repertoire span {
            opacity: .7;
            font-size: .9rem;
        }

        /* ===== FOOTER ===== */
        footer {
            text-align: center;
            padding: 2rem;
            opacity: .5;
        }
    </style>
</head>

<body>

<header class="fade">
    <h1>CANTUS MIRABILIS</h1>
    <p>Kalendarium i repertuar chóru • 2026</p>
</header>

<main>

    <section class="calendar fade">
        <div class="calendar-header">
            <button onclick="changeMonth(-1)">◀</button>
            <h2 id="monthYear"></h2>
            <button onclick="changeMonth(1)">▶</button>
        </div>

        <div class="weekdays">
            <div>Pn</div><div>Wt</div><div>Śr</div><div>Cz</div>
            <div>Pt</div><div>Sb</div><div>Nd</div>
        </div>

        <div class="days" id="days"></div>
    </section>

    <section class="events fade" id="eventList">
        <h3>Wydarzenia</h3>
        <p>Wybierz dzień w kalendarzu</p>
    </section>

    
</main>

<footer>
    © Cantus Mirabilis • GitHub Pages
</footer>

<script>
    /* ===== EVENTS DATA ===== */
    const events = {
        "2026-01-25":[{title:"Niedziela", place:"Katedra", time:"13:00", type:"liturgia"}],
        "2026-02-01":[{title:"Koncert Kolęd", place:"Katedra", time:"16:30", type:"koncert"}],
        "2026-02-15":[{title:"Niedziela", place:"Katedra", time:"10:00", type:"liturgia"}],
        "2026-03-08":[{title:"Niedziela", place:"Katedra", time:"13:00", type:"liturgia"}],
        "2026-03-29":[{title:"Niedziela Palmowa", place:"Katedra", time:"10:00", type:"liturgia"}],
        "2026-04-02":[{title:"Wielki Czwartek – Msza Krzyżma", place:"Katedra", time:"10:00", type:"liturgia"}],
        "2026-04-03":[{title:"Wielki Piątek", place:"Katedra", time:"18:30", type:"liturgia"}],
        "2026-05-10":[{title:"Niedziela", place:"Katedra", time:"13:00", type:"liturgia"}],
        "2026-05-24":[{title:"Niedziela", place:"Katedra", time:"18:30", type:"liturgia"}],
        "2026-06-04":[{title:"Boże Ciało Czwartek", place:"Katedra", time:"10:00", type:"liturgia"}],
        "2026-06-28":[{title:"Niedziela, Wigilia odpustu Katedry", place:"Katedra", time:"18:30", type:"liturgia"}],
        "2026-09-19":[{title:"Wigilia Poświęcenia Kościoła św Ap. Piotra i Pawła", place:"Katedra", time:"18:30", type:"liturgia"}],
    };

    /* ===== CALENDAR ===== */
    let currentDate = new Date();

    function renderCalendar() {
        const daysEl = document.getElementById("days");
        daysEl.innerHTML = "";
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();

        document.getElementById("monthYear").textContent =
                currentDate.toLocaleString("pl-PL",{month:"long",year:"numeric"});

        let firstDay = new Date(year, month, 1).getDay() || 7;
        let daysInMonth = new Date(year, month+1, 0).getDate();

        for(let i=1;i<firstDay;i++) daysEl.appendChild(document.createElement("div"));

        for(let d=1;d<=daysInMonth;d++){
            const key = `${year}-${String(month+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`;
            const div = document.createElement("div");
            div.textContent = d;
            div.className = "day";
            if(events[key]) div.classList.add("has-event");
            div.onclick = ()=>showEvents(key);
            daysEl.appendChild(div);
        }
    }

    function showEvents(key){
        const list = document.getElementById("eventList");
        list.innerHTML = `<h3>${key}</h3>`;
        if(!events[key]){
            list.innerHTML += "<p>Brak wydarzeń</p>";
            return;
        }
        events[key].forEach(e=>{
            list.innerHTML += `
      <div class="event ${e.type}">
        <strong>${e.title}</strong><br>
        <span>${e.place} • ${e.time}</span>
      </div>`;
        });
    }

    function changeMonth(n){
        currentDate.setMonth(currentDate.getMonth()+n);
        renderCalendar();
    }

    /* ===== FADE-IN OBSERVER ===== */
    const observer = new IntersectionObserver(entries=>{
        entries.forEach(e=>{
            if(e.isIntersecting) e.target.classList.add("visible");
        });
    },{threshold:0.15});

    document.querySelectorAll(".fade").forEach(el=>observer.observe(el));

    renderCalendar();
</script>

</body>
</html>
